{"ast":null,"code":"import _slicedToArray from \"/Users/anastasiia/Documents/GitHub/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anastasiia/Documents/GitHub/weather-app/src/Forecast.js\";\nimport React, { useState, useEffect, CSSProperties } from 'react';\nimport axios from 'axios';\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport ForecastDay from \"./ForecastDay\";\nimport \"./Forecast.css\";\nexport default function Forecast(props) {\n  var override = {\n    display: \"block\",\n    margin: \"auto\",\n    textAlign: \"center\"\n  };\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      forecastData = _useState2[0],\n      setForecastData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoaded = _useState4[1];\n\n  useEffect(function () {\n    setTimeout(function () {\n      setLoaded(false);\n    }, 1000);\n  }, [props.coordinates]);\n  useEffect(function () {\n    setTimeout(function () {\n      getForecast();\n    }, 1000);\n  }, [forecastData]);\n\n  function showForecast(response) {\n    console.log(\"you made forecast api request\");\n    setForecastData(response.data.daily);\n    setLoaded(true);\n  }\n\n  function getForecast() {\n    var apiKey = \"c558530bb05c403b5dd2f204254ec041\";\n    var apiUrl = \"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(props.coordinates.lat, \"&lon=\").concat(props.coordinates.lon, \"&exclude=current,hourly,minutely,alerts&appid=\").concat(apiKey, \"&units=metric\");\n    axios.get(apiUrl).then(showForecast);\n    axios.get(apiUrl).catch(function (data, status) {\n      console.log(\"Something went wrong\");\n    });\n  }\n\n  if (loaded) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, forecastData.map(function (dailyForecast, index) {\n      if (index > 0) {\n        return /*#__PURE__*/React.createElement(ForecastDay, {\n          data: dailyForecast,\n          units: props.units,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 24\n          }\n        });\n      } else return null;\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(BeatLoader, {\n      color: \"#a8d3f7\",\n      loading: true,\n      cssOverride: override,\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    });\n  }\n}","map":{"version":3,"names":["React","useState","useEffect","CSSProperties","axios","BeatLoader","ForecastDay","Forecast","props","override","display","margin","textAlign","forecastData","setForecastData","loaded","setLoaded","setTimeout","coordinates","getForecast","showForecast","response","console","log","data","daily","apiKey","apiUrl","lat","lon","get","then","catch","status","map","dailyForecast","index","units"],"sources":["/Users/anastasiia/Documents/GitHub/weather-app/src/Forecast.js"],"sourcesContent":["import React, {useState, useEffect, CSSProperties} from 'react';\nimport axios from 'axios';\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport ForecastDay from \"./ForecastDay\"\n\nimport \"./Forecast.css\";\nexport default function Forecast(props) {\n  const override: CSSProperties = {\n    display: \"block\",\n    margin: \"auto\",\n    textAlign: \"center\"\n  };\n  let [forecastData,setForecastData]=useState(null);\n  let [loaded, setLoaded]=useState(false);\n  useEffect(()=>{\n    setTimeout(()=>{\n      setLoaded(false)\n    },1000)},[props.coordinates])\n  useEffect(()=>{\n    setTimeout(()=>{\n      getForecast();\n  },1000)},[forecastData])\n  function showForecast(response){\n    console.log(\"you made forecast api request\");\n    setForecastData(response.data.daily);\n    setLoaded(true);\n\n  }\n  function getForecast(){\n    let apiKey = \"c558530bb05c403b5dd2f204254ec041\"\n    let apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${props.coordinates.lat}&lon=${props.coordinates.lon}&exclude=current,hourly,minutely,alerts&appid=${apiKey}&units=metric`\n    axios.get(apiUrl).then(showForecast);\n    axios.get(apiUrl).catch((data, status) => {\n      console.log(\"Something went wrong\");\n    });\n  }\n  \n  if(loaded){\n    return <div className=\"container\">\n          <div className=\"row d-flex justify-content-center\">\n            {forecastData.map(function (dailyForecast,index){\n              if(index>0){\n                return <ForecastDay data={dailyForecast} units={props.units}/>\n              }else return null;\n            })}\n        </div>\n      </div>\n  }else {\n    return <BeatLoader color={\"#a8d3f7\"} loading={true} cssOverride={override} size={15} />\n  }\n  \n}\n\n  \n\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,aAApC,QAAwD,OAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,gBAAP;AACA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;EACtC,IAAMC,QAAuB,GAAG;IAC9BC,OAAO,EAAE,OADqB;IAE9BC,MAAM,EAAE,MAFsB;IAG9BC,SAAS,EAAE;EAHmB,CAAhC;;EADsC,gBAMHX,QAAQ,CAAC,IAAD,CANL;EAAA;EAAA,IAMjCY,YANiC;EAAA,IAMpBC,eANoB;;EAAA,iBAOdb,QAAQ,CAAC,KAAD,CAPM;EAAA;EAAA,IAOjCc,MAPiC;EAAA,IAOzBC,SAPyB;;EAQtCd,SAAS,CAAC,YAAI;IACZe,UAAU,CAAC,YAAI;MACbD,SAAS,CAAC,KAAD,CAAT;IACD,CAFS,EAER,IAFQ,CAAV;EAEQ,CAHD,EAGE,CAACR,KAAK,CAACU,WAAP,CAHF,CAAT;EAIAhB,SAAS,CAAC,YAAI;IACZe,UAAU,CAAC,YAAI;MACbE,WAAW;IACd,CAFW,EAEV,IAFU,CAAV;EAEM,CAHC,EAGA,CAACN,YAAD,CAHA,CAAT;;EAIA,SAASO,YAAT,CAAsBC,QAAtB,EAA+B;IAC7BC,OAAO,CAACC,GAAR,CAAY,+BAAZ;IACAT,eAAe,CAACO,QAAQ,CAACG,IAAT,CAAcC,KAAf,CAAf;IACAT,SAAS,CAAC,IAAD,CAAT;EAED;;EACD,SAASG,WAAT,GAAsB;IACpB,IAAIO,MAAM,GAAG,kCAAb;IACA,IAAIC,MAAM,iEAA0DnB,KAAK,CAACU,WAAN,CAAkBU,GAA5E,kBAAuFpB,KAAK,CAACU,WAAN,CAAkBW,GAAzG,2DAA6JH,MAA7J,kBAAV;IACAtB,KAAK,CAAC0B,GAAN,CAAUH,MAAV,EAAkBI,IAAlB,CAAuBX,YAAvB;IACAhB,KAAK,CAAC0B,GAAN,CAAUH,MAAV,EAAkBK,KAAlB,CAAwB,UAACR,IAAD,EAAOS,MAAP,EAAkB;MACxCX,OAAO,CAACC,GAAR,CAAY,sBAAZ;IACD,CAFD;EAGD;;EAED,IAAGR,MAAH,EAAU;IACR,oBAAO;MAAK,SAAS,EAAC,WAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACD;MAAK,SAAS,EAAC,mCAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACGF,YAAY,CAACqB,GAAb,CAAiB,UAAUC,aAAV,EAAwBC,KAAxB,EAA8B;MAC9C,IAAGA,KAAK,GAAC,CAAT,EAAW;QACT,oBAAO,oBAAC,WAAD;UAAa,IAAI,EAAED,aAAnB;UAAkC,KAAK,EAAE3B,KAAK,CAAC6B,KAA/C;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAP;MACD,CAFD,MAEM,OAAO,IAAP;IACP,CAJA,CADH,CADC,CAAP;EASD,CAVD,MAUM;IACJ,oBAAO,oBAAC,UAAD;MAAY,KAAK,EAAE,SAAnB;MAA8B,OAAO,EAAE,IAAvC;MAA6C,WAAW,EAAE5B,QAA1D;MAAoE,IAAI,EAAE,EAA1E;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAP;EACD;AAEF"},"metadata":{},"sourceType":"module"}